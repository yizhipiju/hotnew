(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b65fec4"],{"03fc":function(t,e,s){"use strict";var a=s("3ea9"),n=s.n(a);n.a},"3ea9":function(t,e,s){},9639:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-container"},[t.user?a("van-cell-group",{staticClass:"my-info"},[a("van-cell",{staticClass:"base-info",attrs:{center:"",border:!1}},[a("van-image",{staticClass:"avatar",attrs:{slot:"icon",fit:"cover",round:"",src:t.currentUser.photo},slot:"icon"}),a("div",{staticClass:"name",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.currentUser.name))]),a("van-button",{staticClass:"update-btn",attrs:{size:"mini",round:"",type:"primary",to:"/user/profile"}},[t._v("编辑资料")])],1),a("van-grid",{staticClass:"data-info",attrs:{border:!1}},[a("van-grid-item",{staticClass:"data-info-item"},[a("div",{staticClass:"text-wrap",attrs:{slot:"text"},slot:"text"},[a("div",{staticClass:"count"},[t._v(t._s(t.currentUser.art_count))]),a("div",{staticClass:"text"},[t._v("头条")])])]),a("van-grid-item",{staticClass:"data-info-item"},[a("div",{staticClass:"text-wrap",attrs:{slot:"text"},slot:"text"},[a("div",{staticClass:"count"},[t._v(t._s(t.currentUser.follow_count))]),a("div",{staticClass:"text"},[t._v("关注")])])]),a("van-grid-item",{staticClass:"data-info-item"},[a("div",{staticClass:"text-wrap",attrs:{slot:"text"},slot:"text"},[a("div",{staticClass:"count"},[t._v(t._s(t.currentUser.fans_count))]),a("div",{staticClass:"text"},[t._v("粉丝")])])]),a("van-grid-item",{staticClass:"data-info-item"},[a("div",{staticClass:"text-wrap",attrs:{slot:"text"},slot:"text"},[a("div",{staticClass:"count"},[t._v(t._s(t.currentUser.like_count))]),a("div",{staticClass:"text"},[t._v("获赞")])])])],1)],1):a("div",{staticClass:"not-login"},[a("div",{staticClass:"mobile",on:{click:function(e){return t.$router.push({name:"login",query:{redirect:"/my"}})}}},[a("img",{attrs:{src:s("a43e")}})]),a("div",{staticClass:"text"},[t._v("登录 / 注册")])]),a("van-grid",{staticClass:"nav-grid mb-4",attrs:{"column-num":2}},[a("van-grid-item",{staticClass:"nav-grid-item",attrs:{"icon-prefix":"hotnew",icon:"shoucang",text:"收藏"}}),a("van-grid-item",{staticClass:"nav-grid-item",attrs:{"icon-prefix":"hotnew",icon:"lishi",text:"历史"}})],1),a("van-cell",{staticClass:"message1 mb-4",attrs:{title:"消息通知","is-link":"",to:""}}),a("van-cell",{staticClass:"message2 mb-8",attrs:{title:"小爱同学","is-link":"",to:"/user/chat"}}),t.user?a("van-cell",{staticClass:"logout-cell",attrs:{title:"退出登录"},on:{click:t.onLogout}}):t._e()],1)},n=[],r=(s("96cf"),s("1da1")),i=s("5530"),c=s("2f62"),o=s("c24f"),u={name:"MyInex",data:function(){return{currentUser:{}}},computed:Object(i["a"])({},Object(c["b"])(["user"])),methods:{loadCurrentUser:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])();case 2:s=e.sent,a=s.data,t.currentUser=a.data;case 5:case"end":return e.stop()}}),e)})))()},onLogout:function(){var t=this;this.$dialog.confirm({title:"退出提示",message:"确认退出吗？"}).then((function(){t.$store.commit("setUser",null)})).catch((function(){}))}},created:function(){this.loadCurrentUser()}},l=u,d=(s("03fc"),s("2877")),v=Object(d["a"])(l,a,n,!1,null,"8d03521c",null);e["default"]=v.exports},a43e:function(t,e,s){t.exports=s.p+"assets/img/nologin.png"},c24f:function(t,e,s){"use strict";s.d(e,"f",(function(){return n})),s.d(e,"g",(function(){return r})),s.d(e,"c",(function(){return i})),s.d(e,"d",(function(){return c})),s.d(e,"a",(function(){return o})),s.d(e,"b",(function(){return u})),s.d(e,"e",(function(){return l})),s.d(e,"i",(function(){return d})),s.d(e,"h",(function(){return v}));var a=s("b775"),n=function(t){return Object(a["a"])({method:"POST",url:"/app/v1_0/authorizations",data:t})},r=function(t){return Object(a["a"])({method:"GET",url:"/app/v1_0/sms/codes/".concat(t)})},i=function(){return Object(a["a"])({method:"GET",url:"/app/v1_0/user"})},c=function(){return Object(a["a"])({method:"GET",url:"/app/v1_0/user/channels"})},o=function(t){return Object(a["a"])({method:"POST",url:"/app/v1_0/user/followings",data:{target:t}})},u=function(t){return Object(a["a"])({method:"DELETE",url:"/app/v1_0/user/followings/".concat(t)})},l=function(){return Object(a["a"])({method:"GET",url:"/app/v1_0/user/profile"})},d=function(t){return Object(a["a"])({method:"PATCH",url:"/app/v1_0/user/profile",data:t})},v=function(t){return Object(a["a"])({method:"PATCH",url:"/app/v1_0/user/photo",data:t})}}}]);